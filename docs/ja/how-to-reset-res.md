# 資源サーバーをリセットするには

## 初めに

サーバーを停止して、バックアップをとりましょう。
ワールドデータは重いので、pluginsフォルダだけでもバックアップを取ることをお勧めします。

## サーバーリセットの手順

## サーバーソフトウェアのアップデート

[PaperMC](https://papermc.io/downloads/paper)にアクセスして最新のPaperMCをダウンロードします。
paper-**.jarがインストールされるので、それをサーバーのフォルダに移動します。
また、以前のバージョンのファイルを削除します。

### プラグインのアップデート
サーバーソフトウェアをアップデートするとバージョンによってプラグインが動作しなくなることがあります。
そのため、プラグインもアップデートする必要があります。

### ワールドのリセット

ワールドをリセットするには、worldフォルダを削除します。
`world`, `world_nether`, `world_the_end`の3つのフォルダを削除してください。

その後、シード値を変更することで新しいワールドを生成することができます。
シード値については、`server.properties`ファイルを編集してください。

### プラグインの永続化データのリセット
プラグインによってはさまざまなデータを保存しているものがあります。
そのデータをリセットするためには、プラグインのデータフォルダを削除する必要があります。

#### 削除するデータ一覧
- HuskHomes: `plugins/HuskHomes/HuskHomesData.db` テレポートポイントを削除するため
- CoreProtect: `plugins/CoreProtect/database.db` ログを削除するため
- QuickShop-Hikari: 操作不要 自動で削除されるため

## リセット後のセットアップ

### スポーンの設定
- `/minecraftsetworldspawn` ワールドのスポーン地点を設定する
- `/husksync:setspawn` HuskHomesのスポーン地点を設定する


### ゲームルールの変更
- `/gamerule announceAdvancements false` 実績の表示を非表示にする
- `/gamerule doFireTick false` 火の延焼を無効にする
- `/gamerule playersSleepingPercentage 50` ベッドでスポーン地点を設定するプレイヤーの割合

### 情報伝達オブジェクトの配置
#### クエスト受付嬢(Citizens)
- `/npc tph --uuid bc0c7613-54fe-4d18-beaf-a44674955212` 現在地にクエスト受付嬢を配置する

#### ホログラム(FancyHologram)
- `/hologram edit spawn moveHere` 現在地にホログラムを配置する


### 買取ショップの設定 (QuickShop-Hikari)

- アカシアの原木: 8.0/10個
- オークの原木: 7.0/10個
- ダークオークの原木: 6.0/10個
- シラカバの原木: 6.0/10個
- ジャングルの原木: 6.0/10個
- トウヒの原木: 5.0/10個

- ダイヤモンド: 100.0/1個
- 鉄の原石: 5.0/1個
- ラピスラズリブロック: 10.0/1個
- レッドストーンブロック: 5.0/1個
- 石炭ブロック: 1.0/1個

